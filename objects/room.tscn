[gd_scene load_steps=15 format=4 uid="uid://c5rqi38s0x6p"]

[ext_resource type="Texture2D" uid="uid://bsxxufvhx762h" path="res://assets/tiles.png" id="1_2vtrl"]
[ext_resource type="Script" uid="uid://dj65yyxhqjya2" path="res://objects/room.gd" id="1_4d8i4"]
[ext_resource type="PackedScene" uid="uid://c5nnh7twpycrw" path="res://system/player_interface.tscn" id="2_4d8i4"]
[ext_resource type="Script" uid="uid://bvjero3ul8fie" path="res://system/mob_handler.gd" id="2_lvljb"]
[ext_resource type="PackedScene" uid="uid://cmap3v478dl1x" path="res://objects/wall_snap.tscn" id="6_n1ucb"]
[ext_resource type="PackedScene" uid="uid://wuyu1r1e0d2i" path="res://entities/red_mob.tscn" id="7_r2kp8"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_lvljb"]
vertices = PackedVector2Array(336, 528, 944, 528, 944, 944, 80, 944, 80, 352, 336, 432, 696, 352, 944, 432, 944, 80, 696, 256, 80, 80, 80, 256)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(0, 3, 4, 5), PackedInt32Array(5, 4, 6, 7), PackedInt32Array(8, 7, 6, 9), PackedInt32Array(10, 8, 9, 11)])
source_geometry_mode = 1
source_geometry_group_name = &"obstacle"
agent_radius = 16.0

[sub_resource type="TileMapPattern" id="TileMapPattern_lvljb"]
tile_data = PackedInt32Array(0, 1, 0, 1, 1, 0, 2, 1, 0)

[sub_resource type="TileMapPattern" id="TileMapPattern_4d8i4"]
tile_data = PackedInt32Array(0, 1, 0, 1, 1, 0, 65537, 1, 0)

[sub_resource type="NavigationPolygon" id="NavigationPolygon_4d8i4"]
vertices = PackedVector2Array(32, 32, -32, 32, -32, -32, 32, -32)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_c0xyw"]
vertices = PackedVector2Array(32, 32, -32, 32, -32, -32, 32, -32)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_d4lmf"]
vertices = PackedVector2Array(32, 32, -32, 32, -32, -32, 32, -32)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)])
agent_radius = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_lvljb"]
texture = ExtResource("1_2vtrl")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
1:0/0 = 0
2:0/0 = 0
2:0/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_4d8i4")
3:0/0 = 0
3:0/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_c0xyw")
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
3:1/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_d4lmf")

[sub_resource type="TileSet" id="TileSet_4d8i4"]
tile_size = Vector2i(64, 64)
physics_layer_0/collision_layer = 1
navigation_layer_0/layers = 1
sources/1 = SubResource("TileSetAtlasSource_lvljb")
pattern_0 = SubResource("TileMapPattern_lvljb")
pattern_1 = SubResource("TileMapPattern_4d8i4")

[node name="NavigationRegion2D" type="NavigationRegion2D" node_paths=PackedStringArray("mob_handler", "tilemap", "goal")]
navigation_polygon = SubResource("NavigationPolygon_lvljb")
script = ExtResource("1_4d8i4")
mob_handler = NodePath("mob_handler")
tilemap = NodePath("TileMapLayer")
goal = NodePath("goal")

[node name="player_interface" parent="." instance=ExtResource("2_4d8i4")]
position = Vector2(640, 510)

[node name="TileMapLayer" type="TileMapLayer" parent="." groups=["obstacle"]]
tile_map_data = PackedByteArray("AAAAAAAAAQAAAAAAAAAAAAEAAQAAAAAAAAAAAAIAAQAAAAAAAAAAAAMAAQAAAAAAAAAAAAQAAQAAAAAAAAAAAAUAAQAAAAAAAAAAAAYAAQAAAAAAAAAAAAcAAQAAAAAAAAAAAAgAAQAAAAAAAAAAAAkAAQAAAAAAAAAAAAoAAQAAAAAAAAAAAAsAAQAAAAAAAAAAAAwAAQAAAAAAAAAAAA0AAQAAAAAAAAAAAA4AAQAAAAAAAAAAAA8AAQAAAAAAAAABAAAAAQAAAAAAAAABAAEAAQADAAAAAAABAAIAAQADAAEAAAABAAMAAQADAAEAAAABAAQAAQADAAEAAAABAAUAAQADAAEAAAABAAYAAQADAAEAAAABAAcAAQADAAEAAAABAAgAAQADAAEAAAABAAkAAQADAAEAAAABAAoAAQADAAEAAAABAAsAAQADAAEAAAABAAwAAQADAAEAAAABAA0AAQADAAEAAAABAA4AAQADAAEAAAABAA8AAQAAAAAAAAACAAAAAQAAAAAAAAACAAEAAQADAAEAAAACAAIAAQADAAEAAAACAAMAAQADAAEAAAACAAQAAQADAAEAAAACAAUAAQADAAEAAAACAAYAAQADAAEAAAACAAcAAQADAAEAAAACAAgAAQADAAEAAAACAAkAAQADAAEAAAACAAoAAQADAAEAAAACAAsAAQADAAEAAAACAAwAAQADAAEAAAACAA0AAQADAAEAAAACAA4AAQADAAEAAAACAA8AAQAAAAAAAAADAAAAAQAAAAAAAAADAAEAAQADAAEAAAADAAIAAQADAAEAAAADAAMAAQADAAEAAAADAAQAAQADAAEAAAADAAUAAQADAAEAAAADAAYAAQADAAEAAAADAAcAAQADAAEAAAADAAgAAQADAAEAAAADAAkAAQADAAEAAAADAAoAAQADAAEAAAADAAsAAQADAAEAAAADAAwAAQADAAEAAAADAA0AAQADAAEAAAADAA4AAQADAAEAAAADAA8AAQAAAAAAAAAEAAAAAQAAAAAAAAAEAAEAAQADAAEAAAAEAAIAAQADAAEAAAAEAAMAAQADAAEAAAAEAAQAAQADAAEAAAAEAAUAAQADAAEAAAAEAAYAAQADAAEAAAAEAAcAAQADAAEAAAAEAAgAAQADAAEAAAAEAAkAAQADAAEAAAAEAAoAAQADAAEAAAAEAAsAAQADAAEAAAAEAAwAAQADAAEAAAAEAA0AAQADAAEAAAAEAA4AAQADAAEAAAAEAA8AAQAAAAAAAAAFAAAAAQAAAAAAAAAFAAEAAQADAAEAAAAFAAIAAQADAAEAAAAFAAMAAQADAAEAAAAFAAQAAQADAAEAAAAFAAUAAQADAAEAAAAFAAYAAQADAAEAAAAFAAcAAQADAAEAAAAFAAgAAQADAAEAAAAFAAkAAQADAAEAAAAFAAoAAQADAAEAAAAFAAsAAQADAAEAAAAFAAwAAQADAAEAAAAFAA0AAQADAAEAAAAFAA4AAQADAAEAAAAFAA8AAQAAAAAAAAAGAAAAAQAAAAAAAAAGAAEAAQADAAEAAAAGAAIAAQADAAEAAAAGAAYAAQADAAEAAAAGAAcAAQADAAEAAAAGAAgAAQADAAEAAAAGAAkAAQADAAEAAAAGAAoAAQADAAEAAAAGAAsAAQADAAEAAAAGAAwAAQADAAEAAAAGAA0AAQADAAEAAAAGAA4AAQADAAEAAAAGAA8AAQAAAAAAAAAHAAAAAQAAAAAAAAAHAAEAAQADAAEAAAAHAAIAAQADAAEAAAAHAAMAAQADAAEAAAAHAAQAAQADAAEAAAAHAAUAAQADAAEAAAAHAAYAAQADAAEAAAAHAAcAAQADAAEAAAAHAAgAAQADAAEAAAAHAAkAAQADAAEAAAAHAAoAAQADAAEAAAAHAAsAAQADAAEAAAAHAAwAAQADAAEAAAAHAA0AAQADAAEAAAAHAA4AAQADAAEAAAAHAA8AAQAAAAAAAAAIAAAAAQAAAAAAAAAIAAEAAQADAAEAAAAIAAIAAQADAAEAAAAIAAMAAQADAAEAAAAIAAQAAQADAAEAAAAIAAUAAQADAAEAAAAIAAYAAQADAAEAAAAIAAcAAQADAAEAAAAIAAgAAQADAAEAAAAIAAkAAQADAAEAAAAIAAoAAQADAAEAAAAIAAsAAQADAAEAAAAIAAwAAQADAAEAAAAIAA0AAQADAAEAAAAIAA4AAQADAAEAAAAIAA8AAQAAAAAAAAAJAAAAAQAAAAAAAAAJAAEAAQADAAEAAAAJAAIAAQADAAEAAAAJAAMAAQADAAEAAAAJAAQAAQADAAEAAAAJAAUAAQADAAEAAAAJAAYAAQADAAEAAAAJAAcAAQADAAEAAAAJAAgAAQADAAEAAAAJAAkAAQADAAEAAAAJAAoAAQADAAEAAAAJAAsAAQADAAEAAAAJAAwAAQADAAEAAAAJAA0AAQADAAEAAAAJAA4AAQADAAEAAAAJAA8AAQAAAAAAAAAKAAAAAQAAAAAAAAAKAAEAAQADAAEAAAAKAAIAAQADAAEAAAAKAAMAAQADAAEAAAAKAAQAAQADAAEAAAAKAAUAAQADAAEAAAAKAAYAAQADAAEAAAAKAAcAAQADAAEAAAAKAAgAAQADAAEAAAAKAAkAAQADAAEAAAAKAAoAAQADAAEAAAAKAAsAAQADAAEAAAAKAAwAAQADAAEAAAAKAA0AAQADAAEAAAAKAA4AAQADAAEAAAAKAA8AAQAAAAAAAAALAAAAAQAAAAAAAAALAAEAAQADAAEAAAALAAIAAQADAAEAAAALAAMAAQADAAEAAAALAAQAAQADAAEAAAALAAUAAQADAAEAAAALAAYAAQADAAEAAAALAAcAAQADAAEAAAALAAgAAQADAAEAAAALAAkAAQADAAEAAAALAAoAAQADAAEAAAALAAsAAQADAAEAAAALAAwAAQADAAEAAAALAA0AAQADAAEAAAALAA4AAQADAAEAAAALAA8AAQAAAAAAAAAMAAAAAQAAAAAAAAAMAAEAAQADAAEAAAAMAAIAAQADAAEAAAAMAAMAAQADAAEAAAAMAAQAAQADAAEAAAAMAAUAAQADAAEAAAAMAAYAAQADAAEAAAAMAAcAAQADAAEAAAAMAAgAAQADAAEAAAAMAAkAAQADAAEAAAAMAAoAAQADAAEAAAAMAAsAAQADAAEAAAAMAAwAAQADAAEAAAAMAA0AAQADAAEAAAAMAA4AAQADAAEAAAAMAA8AAQAAAAAAAAANAAAAAQAAAAAAAAANAAEAAQADAAEAAAANAAIAAQADAAEAAAANAAMAAQADAAEAAAANAAQAAQADAAEAAAANAAUAAQADAAEAAAANAAYAAQADAAEAAAANAAcAAQADAAEAAAANAAgAAQADAAEAAAANAAkAAQADAAEAAAANAAoAAQADAAEAAAANAAsAAQADAAEAAAANAAwAAQADAAEAAAANAA4AAQADAAEAAAANAA8AAQAAAAAAAAAOAAAAAQAAAAAAAAAOAAEAAQADAAEAAAAOAAIAAQADAAEAAAAOAAMAAQADAAEAAAAOAAQAAQADAAEAAAAOAAUAAQADAAEAAAAOAAYAAQADAAEAAAAOAAcAAQADAAEAAAAOAAgAAQADAAEAAAAOAAkAAQADAAEAAAAOAAoAAQADAAEAAAAOAAsAAQADAAEAAAAOAA0AAQADAAEAAAAOAA4AAQACAAAAAAAOAA8AAQAAAAAAAAAPAAAAAQAAAAAAAAAPAAEAAQAAAAAAAAAPAAIAAQAAAAAAAAAPAAMAAQAAAAAAAAAPAAQAAQAAAAAAAAAPAAUAAQAAAAAAAAAPAAYAAQAAAAAAAAAPAAcAAQAAAAAAAAAPAAgAAQAAAAAAAAAPAAkAAQAAAAAAAAAPAAoAAQAAAAAAAAAPAAsAAQAAAAAAAAAPAAwAAQAAAAAAAAAPAA0AAQAAAAAAAAAPAA4AAQAAAAAAAAAPAA8AAQAAAAAAAAAGAAMAAQADAAEAAAAGAAQAAQADAAEAAAAGAAUAAQADAAEAAAANAA0AAQADAAEAAAAOAAwAAQADAAEAAAA=")
tile_set = SubResource("TileSet_4d8i4")
navigation_enabled = false

[node name="goal" type="Node2D" parent="."]
position = Vector2(932, 932)

[node name="mob_handler" type="Node2D" parent="."]
script = ExtResource("2_lvljb")
target_destination = Vector2(932, 932)

[node name="Node" type="Node" parent="."]

[node name="wall_snap" parent="Node" instance=ExtResource("6_n1ucb")]
position = Vector2(224, 96)

[node name="wall_snap2" parent="Node" instance=ExtResource("6_n1ucb")]
position = Vector2(160, 160)

[node name="wall_snap3" parent="Node" instance=ExtResource("6_n1ucb")]
position = Vector2(224, 160)

[node name="red_mob" parent="." instance=ExtResource("7_r2kp8")]
position = Vector2(152, 96)
target_destination = Vector2(932, 932)
